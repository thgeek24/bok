- What
	- 注入攻击
	  collapsed:: true
		- 定义
			- 指利用恶意代码（如 SQL 语句）和程序漏洞，非法获取、新增、修改或删除数据库中的数据，从而绕过系统权限、破坏系统功能或影响系统稳定性的一类攻击方法
		- 示例
		  collapsed:: true
			- ```sql
			  # 如下，如果密码输入 ' OR '1'='1 时，等同于不需要密码
			  String sql = "SELECT * FROM t_user WHERE username='"+userName+"' AND pwd='"+password+"'"; 
			  ```
		- 分类
			- SQL 注入
			- XPath 注入
				- 指利用 XPath 解析器的松散输入和容错特性，能够在 URL、表单或其它信息上附带恶意的 XPath 查询代码，以获得权限信息的访问权并修改这些信息
			- 命令注入
				- Java中`System.Runtime.getRuntime().exec(cmd);`可以在目标机器上执行命令，而构建参数的过程中可能会引发注入攻击
			- LDAP 注入
				- TODO
			- CLRF 注入
			- email 注入
			- Host 注入
	- [[CSRF]]
	- [[XSS]]
- Why
- How
	- 常见的 Web 安全漏洞
	  collapsed:: true
		- 如下图，展示了[[OWASP]] Top 10
		  ![](https://pdai.tech/images/security/dev-security-overview-1.png)
		- 2013 版至 2017 版，体现了应用程序的基础技术和结构发生了重大变化
			- 使用 Node.js 和[[Spring Boot]]构建的[[微服务]]正在取代传统的单任务应用，微服务本身具有自己的安全挑战，包括微服务间互信、容器工具、保密管理等等。原来没人期望代码要实现基于互联网的防护，而现在这些代码就在 API 和 RESTful 服务的后面，提供给移动应用或单页应用（SPA）的大量使用。代码构建时的假设，如受信任的调用等等，再也不存在了
			- 使用 JavaScript 框架（如：Angular 和 React）编写的单页应用程序，允许创建高度模块化的前端用户体验；原来交付服务器端处理的功能，现在由客户端处理，但也带来了安全挑战
			- JavaScript 成为网页上最基本的语言。Node.js 运行在服务器端，采用现代网页框架的 Bootstrap、Electron、Angular 和 React 则运行在客户端
	- 解决 SQL 注入
		- 使用预编译处理输入参数
			- 要防御 SQL 注入，用户的输入就不能直接嵌套在 SQL 语句当中。使用参数化的语句，用户的输入就被限制于一个参数当中，比如用 prepareStatement
		- 输入验证
			- 检查用户输入的合法性，以确保输入的内容为正常的数据
			- 数据检查应当在客户端和服务器端都执行，之所以要执行服务器端验证，是因为客户端的校验往往只是减轻服务器的压力和提高对用户的友好度，攻击者完全有可能通过抓包修改数据或者获取网页的源代码后，修改验证合法性的脚本（或者直接删除脚本），然后将非法内容通过修改后的表单提交给服务器等等手段绕过客户端的校验
			- 因此，要保证验证操作确实已经执行，唯一的方法就是在服务器端也执行验证
			- 但是这些方法很容易出现过滤不严导致恶意攻击者绕过的现象，需要慎重使用
		- 错误消息处理
			- 防范 SQL 注入，还要避免出现一些详细的错误消息
			- 恶意攻击者往往会利用这些报错信息来判断后台 SQL 的拼接形式，甚至直接利用这些报错注入，将数据库的数据通过报错信息显示出来
		- 加密处理
			- 将用户登陆名称、密码等数据加密保存
			- 加密用户输入的数据，然后再将它与数据库中保存的数据比较，这相当于对用户输入的数据进行了“消毒”处理，用户输入的数据不再对数据库有任何特殊的意义，从而也就防止了攻击者注入 SQL 命令
- How Good
- Refs
- See Also