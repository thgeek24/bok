- What
	- 简单动态字符串。Redis的一种底层数据结构
- Why
	- 常数时间复杂度获取字符串长度
		- C语言中，获取字符串长度的时间复杂度是O(n)
		- 而SDS中有len属性，通过读取len属性可获取SDS中字符串的长度，时间复杂度为O(1)
	- 杜绝缓冲区溢出
		- C语言中，使用`strcat`来完成两个字符串的拼接，如果没有分配足够长度的内存空间，则会造成缓冲区溢出
		- 对于SDS的数据类型，在修改字符时，会先检查缓冲区容量，如果不足，会先分配给缓冲区更多的内存，避免缓冲区溢出
	- 减少修改字符串的[[内存重新分配]]次数
		- 由于C语言不记录字符串的长度，所以如果要修改字符串，必须要重新分配内存（先释放再申请）
		- 如果没有重新分配，字符串长度增大时会造成内存缓冲区溢出，长度减小时会造成内存泄漏
		- 而SDS由于有`len`和`alloc`属性，对修改字符串时采取了两种策略“空间预分配”和”惰性空间释放“
			- **空间预分配**：对字符串进行空间扩展的时候，会扩展比实际所需更多的空间，这样便减少了内存重新分配次数
			- **惰性空间释放**：对字符串进行缩短操作时，程序不立即使用内存重新分配来回收缩短后多余的字节，而是使用 `alloc` 属性将这些字节的数量记录下来，等待后续使用（SDS也提供了相应的API，可以手动释放这些未使用的空间）
	- 二进制安全
		- 因为C字符串以空字符作为字符串结束的标识，而对于一些二进制文件（如图片等），内容可能包括空字符串，因此C字符串无法正确存取；而所有 SDS 的API 都是以处理二进制的方式来处理 `buf` 里面的元素，并且 SDS 不是以空字符串来判断是否结束，而是以 len 属性表示的长度来判断字符串是否结束
	- 兼容部分C字符串函数
		- SDS二进制安全，但也遵从每个字符串都是以空字符串结尾的惯例，这样可以重用 C 语言库`<string.h>` 中的一部分函数
- How
- How Good
- Refs
- See Also